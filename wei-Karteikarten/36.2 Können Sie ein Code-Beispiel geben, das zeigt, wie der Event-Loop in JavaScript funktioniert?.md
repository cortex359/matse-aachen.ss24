# Können Sie ein Code-Beispiel geben, das zeigt, wie der Event-Loop in JavaScript funktioniert?

Betrachten wir das folgende Beispiel, um zu verstehen, wie der Event-Loop funktioniert:

```javascript
console.log('Erste Nachricht');

setTimeout(function() {
    console.log('Zweite Nachricht');
}, 0);

console.log('Dritte Nachricht');

Promise.resolve().then(function() {
    console.log('Vierte Nachricht');
});
```

*Erklärung der Ausführung:*
1. `console.log('Erste Nachricht');` wird sofort ausgeführt und auf den Call Stack gelegt.
2. `setTimeout(..., 0);` wird eingeplant, aber der Callback wird in die Task Queue gestellt und muss warten, bis der Call Stack leer ist.
3. `console.log('Dritte Nachricht');` wird sofort ausgeführt.
4. Die `Promise` wird aufgelöst, und der `.then(...)` Callback wird in die Microtask Queue gestellt, welche eine höhere Priorität als die Task Queue hat.
5. Jetzt ist der Call Stack leer. Der Event-Loop überprüft zuerst die Microtask Queue und führt `console.log('Vierte Nachricht');` aus.
6. Erst danach wird der aus der Task Queue kommende `setTimeout` Callback ausgeführt, und `console.log('Zweite Nachricht');` wird angezeigt.

*Erwartete Ausgabe:*
```
Erste Nachricht
Dritte Nachricht
Vierte Nachricht
Zweite Nachricht
```

Dieses Beispiel verdeutlicht, dass selbst ein `setTimeout(..., 0);` nicht garantiert, dass der Callback sofort nach dem aktuellen Code ausgeführt wird, da bereits geplante Mikroaufgaben (wie Promise Callbacks) Vorrang haben.

---

_Kapitel:_ JavaScript
_Lernziel 36 \[2/2\]:_ Die Event-Loop kennen Sie detalliert und können auch an konkreten Code-Beispielen dessen Wirkung verdeutlichen.
