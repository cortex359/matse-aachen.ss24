# Wie können Sessions in Express.js verwendet werden?

Um Sessions in Express.js zu verwenden, kann das `express-session`-Middleware eingesetzt werden. Sessions eignen sich für die Speicherung von benutzerspezifischen Daten über mehrere Anfragen hinweg.

Zuerst muss das Paket installiert werden:

```
npm install express-session
```

Dann wird es in das Express-App eingebunden:

```javascript
const session = require('express-session');

app.use(session({
  secret: 'your_secret_key',
  resave: false,
  saveUninitialized: true,
  cookie: { secure: true }
}));
```

Um Session-Daten zu speichern, verwendet man `req.session`:

```javascript
app.get('/login', (req, res) => {
  // Nach erfolgreicher Authentifizierung
  req.session.userId = user.id;
  res.send('Logged in');
});
```

Um auf Session-Daten zuzugreifen, liest man ebenfalls von `req.session`:

```javascript
app.get('/dashboard', (req, res) => {
  if (req.session.userId) {
    res.send('Welcome to your dashboard');
  } else {
    res.send('Please login first');
  }
});
```

Für den sicheren Betrieb sollte die Session-Konfiguration entsprechend angepasst werden, z.B. durch Setzen von `secure: true` bei Cookies, sofern HTTPS verwendet wird, und durch die Verwendung eines starken `secret`-Werts, um die Session-ID zu signieren.

---

_Kapitel:_ Node.js
_Lernziel 44 \[2/2\]:_ Sie können Cookies und Sessons in express verwenden.
